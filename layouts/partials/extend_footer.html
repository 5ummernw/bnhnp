<!-- word count -->
{{/* ===== Footer total posts & word count ===== */}}

{{/* 只统计 posts 目录下的文章 */}}
{{ $pages := where .Site.RegularPages "Section" "posts" }}

{{/* 文章数 */}}
{{ $postCount := len $pages }}

{{/* 总字数 */}}
{{ $totalWords := 0 }}
{{ range $pages }}
  {{ $totalWords = add $totalWords .WordCount }}
{{ end }}

<div class="footer-totalcount">
  发表了 {{ $postCount }} 篇文章 · 共计 {{ $totalWords }} 字
</div>

<!-- Blog running time -->
<div class="footer-runtime">
  本博客已稳定运行 <span id="runningdays"></span>
</div>

<script>
  (function () {
    const startDate = new Date("2026-01-06T00:00:00+09:00"); // 改成你的建站时间和时区

    function pad(n) { return String(n); }

    function updateRunningTime() {
      if (isNaN(startDate.getTime())) return; // 日期解析失败就不显示，避免 NaN

      const now = new Date();
      const diff = now.getTime() - startDate.getTime();
      if (diff < 0) return;

      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
      const minutes = Math.floor((diff / (1000 * 60)) % 60);

      const el = document.getElementById("runningdays");
      if (el) el.textContent = `${pad(days)}天 ${pad(hours)}小时 ${pad(minutes)}分钟`;
    }

    updateRunningTime();
    setInterval(updateRunningTime, 60 * 1000);
  })();
</script>


